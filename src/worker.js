(function(){"use strict";function M(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var g,h;function w(){if(h)return g;h=1;function e(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function t(r){function n(o,u,s,p){function i(a){typeof self.postMessage!="function"?o.ports[0].postMessage(a):self.postMessage(a)}s?(typeof console<"u"&&"error"in console&&console.error("Worker caught an error:",s),i([u,{message:s.message}])):i([u,null,p])}function y(o,u){try{return{res:o(u)}}catch(s){return{err:s}}}function c(o,u,s,p){var i=y(u,p);i.err?n(o,s,i.err):e(i.res)?i.res.then(function(a){n(o,s,null,a)},function(a){n(o,s,a)}):n(o,s,null,i.res)}function d(o){var u=o.data;if(!(!Array.isArray(u)||u.length!==2)){var s=u[0],p=u[1];typeof r!="function"?n(o,s,new Error("Please pass a function into register().")):c(o,r,s,p)}}self.addEventListener("message",d)}return g=t,g}var m=w();const E=M(m);let l=!1;const f=()=>{if(!l)throw new Error("WebAssembly is not loaded!")};async function A(e,t){if(l)throw new Error("WebAssembly is loaded!");return self.Module={locateFile:r=>r.endsWith("wasm")&&t?t:r,onRuntimeInitialized:()=>{l=!0}},importScripts(e),l||(await new Promise(r=>{Module.onRuntimeInitialized=()=>r()}),l=!0),!0}function P(e,t){const r=[],n=t.map(c=>{if(typeof c=="string"){const d=Module._malloc(c.length*2);return Module.stringToUTF8(c,d,c.length*2),r.push(d),d}return c}),y=Module["_"+e](...n)||!0;return r.forEach(c=>{Module._free(c)}),y}function v(){const e=[];for(const t of Object.keys(Module))t.startsWith("_")&&e.push(t.slice(1));return e}function H(e){const t=Module._malloc(e.byteLength);return Module.HEAP8.set(e,t),t}function _(e){return Module._free(e),!0}function W(e,t){return new Int8Array(Module.HEAP8.subarray(e,e+t))}E(async e=>{switch(e.cmd){case"load":{const{args:t}=e,r=t[0],n=t[1];return await A(r,n)}case"call":{f();const{args:t}=e,r=t[0],n=t[1];return P(r,n)}case"getKeys":return f(),v();case"createHeap":{f();const{args:t}=e,r=t[0];return H(r)}case"freeHeap":{f();const{args:t}=e,r=t[0];return _(r)}case"getHeap":{f();const{args:t}=e,r=t[0],n=t[1];return W(r,n)}default:throw new Error("Unknown Message.")}})})();
